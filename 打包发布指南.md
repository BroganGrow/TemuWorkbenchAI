# SuperTools æ‰“åŒ…å‘å¸ƒæŒ‡å—

## ğŸ“¦ å‡†å¤‡å·¥ä½œ

### 1. å®‰è£…ä¾èµ–

```bash
npm install
```

### 2. å‡†å¤‡å›¾æ ‡æ–‡ä»¶

éœ€è¦åœ¨ `build/` ç›®å½•åˆ›å»ºä»¥ä¸‹å›¾æ ‡ï¼š

#### Windows å›¾æ ‡
- **build/icon.ico** - Windowsåº”ç”¨å›¾æ ‡ï¼ˆ256x256ï¼‰

#### macOS å›¾æ ‡
- **build/icon.icns** - macOSåº”ç”¨å›¾æ ‡ï¼ˆ512x512ï¼‰

#### é€šç”¨å›¾æ ‡
- **build/icon.png** - é€šç”¨PNGå›¾æ ‡ï¼ˆ512x512ï¼‰

**å›¾æ ‡åˆ¶ä½œå·¥å…·æ¨èï¼š**
- Windows: IcoFX, GIMP
- macOS: iconutilï¼ˆå‘½ä»¤è¡Œå·¥å…·ï¼‰
- åœ¨çº¿å·¥å…·: https://www.icoconverter.com/

**å¿«é€Ÿåˆ›å»ºå›¾æ ‡ï¼ˆä½¿ç”¨åœ¨çº¿å·¥å…·ï¼‰ï¼š**
1. è®¾è®¡ä¸€ä¸ª 512x512 çš„PNGå›¾æ ‡
2. è®¿é—® https://www.icoconverter.com/
3. ä¸Šä¼ PNGï¼Œä¸‹è½½ .ico å’Œ .icns æ ¼å¼

---

## ğŸ”¨ æœ¬åœ°æ‰“åŒ…

### Windows æ‰“åŒ…

```bash
# æ‰“åŒ… Windows å®‰è£…ç¨‹åº
npm run build:win
```

è¾“å‡ºæ–‡ä»¶ï¼š
- `release/1.0.0/SuperTools-Setup-1.0.0.exe` - NSISå®‰è£…ç¨‹åº
- `release/1.0.0/SuperTools-Portable-1.0.0.exe` - ä¾¿æºç‰ˆ

### macOS æ‰“åŒ…

```bash
# æ‰“åŒ… macOS åº”ç”¨
npm run build:mac
```

è¾“å‡ºæ–‡ä»¶ï¼š
- `release/1.0.0/SuperTools-1.0.0.dmg` - ç£ç›˜é•œåƒ
- `release/1.0.0/SuperTools-1.0.0-mac.zip` - ZIPå‹ç¼©åŒ…

### Linux æ‰“åŒ…

```bash
# æ‰“åŒ… Linux åº”ç”¨
npm run build:linux
```

è¾“å‡ºæ–‡ä»¶ï¼š
- `release/1.0.0/SuperTools-1.0.0.AppImage` - AppImage
- `release/1.0.0/SuperTools-1.0.0.deb` - DebianåŒ…

### ä»…æ„å»ºä¸æ‰“åŒ…

```bash
# æ„å»ºåˆ°ç›®å½•ï¼ˆä¸ç”Ÿæˆå®‰è£…åŒ…ï¼‰
npm run build:dir
```

---

## ğŸš€ å‘å¸ƒæµç¨‹

### æ–¹å¼ä¸€ï¼šæ‰‹åŠ¨å‘å¸ƒ

#### 1. æ›´æ–°ç‰ˆæœ¬å·

ç¼–è¾‘ `package.json` å’Œ `version.txt`ï¼š

```json
{
  "version": "1.0.1"
}
```

#### 2. æ›´æ–° CHANGELOG.md

è®°å½•æœ¬æ¬¡æ›´æ–°çš„å†…å®¹ã€‚

#### 3. æäº¤ä»£ç 

```bash
git add .
git commit -m "chore: release v1.0.1"
git push
```

#### 4. åˆ›å»ºæ ‡ç­¾

```bash
git tag v1.0.1
git push origin v1.0.1
```

#### 5. æœ¬åœ°æ‰“åŒ…

```bash
npm run build:win
npm run build:mac
npm run build:linux
```

#### 6. ä¸Šä¼ åˆ° GitHub Releases

1. è®¿é—® GitHub ä»“åº“çš„ Releases é¡µé¢
2. ç‚¹å‡» "Draft a new release"
3. é€‰æ‹©æ ‡ç­¾ v1.0.1
4. å¡«å†™å‘å¸ƒè¯´æ˜ï¼ˆå¤åˆ¶ CHANGELOGï¼‰
5. ä¸Šä¼ æ‰“åŒ…å¥½çš„æ–‡ä»¶
6. å‘å¸ƒ

---

### æ–¹å¼äºŒï¼šè‡ªåŠ¨åŒ–å‘å¸ƒï¼ˆGitHub Actionsï¼‰

#### å‰ç½®æ¡ä»¶

1. ç¡®ä¿ GitHub ä»“åº“å·²å¯ç”¨ Actions
2. ä»£ç å·²æ¨é€åˆ° GitHub

#### è§¦å‘æ„å»º

åˆ›å»ºå¹¶æ¨é€æ ‡ç­¾å³å¯è‡ªåŠ¨è§¦å‘æ„å»ºï¼š

```bash
# æ›´æ–°ç‰ˆæœ¬å·
npm version patch  # æˆ– minor/major

# æ¨é€æ ‡ç­¾
git push --follow-tags
```

GitHub Actions å°†è‡ªåŠ¨ï¼š
1. âœ… åœ¨ Windows/macOS/Linux ä¸Šæ„å»º
2. âœ… ç”Ÿæˆå®‰è£…åŒ…
3. âœ… åˆ›å»º GitHub Release
4. âœ… ä¸Šä¼ æ‰€æœ‰æ„å»ºäº§ç‰©

æŸ¥çœ‹æ„å»ºè¿›åº¦ï¼š
- è®¿é—®ä»“åº“çš„ Actions æ ‡ç­¾é¡µ

---

## ğŸ“ ç‰ˆæœ¬å·è§„åˆ™

éµå¾ªè¯­ä¹‰åŒ–ç‰ˆæœ¬ï¼ˆSemantic Versioningï¼‰ï¼š

```
ä¸»ç‰ˆæœ¬å·.æ¬¡ç‰ˆæœ¬å·.ä¿®è®¢å·
  Major  . Minor  . Patch
```

**æ›´æ–°è§„åˆ™ï¼š**
- **Patchï¼ˆä¿®è®¢å·ï¼‰**: Bugä¿®å¤ï¼Œå‘åå…¼å®¹
  ```bash
  npm version patch  # 1.0.0 â†’ 1.0.1
  ```

- **Minorï¼ˆæ¬¡ç‰ˆæœ¬å·ï¼‰**: æ–°å¢åŠŸèƒ½ï¼Œå‘åå…¼å®¹
  ```bash
  npm version minor  # 1.0.0 â†’ 1.1.0
  ```

- **Majorï¼ˆä¸»ç‰ˆæœ¬å·ï¼‰**: é‡å¤§æ›´æ”¹ï¼Œå¯èƒ½ä¸å…¼å®¹
  ```bash
  npm version major  # 1.0.0 â†’ 2.0.0
  ```

---

## ğŸ” æ‰“åŒ…å‰æ£€æŸ¥æ¸…å•

- [ ] æ‰€æœ‰åŠŸèƒ½æ­£å¸¸å·¥ä½œ
- [ ] æ²¡æœ‰æ§åˆ¶å°é”™è¯¯
- [ ] å·²æ›´æ–°ç‰ˆæœ¬å·
- [ ] å·²æ›´æ–° CHANGELOG.md
- [ ] å›¾æ ‡æ–‡ä»¶å·²å‡†å¤‡
- [ ] å·²æµ‹è¯•å¼€å‘æ¨¡å¼ï¼ˆ`npm run dev`ï¼‰
- [ ] å·²æ¸…ç† node_modules å¹¶é‡æ–°å®‰è£…
- [ ] å·²æäº¤æ‰€æœ‰ä»£ç æ›´æ”¹

---

## ğŸ› ï¸ å¸¸è§é—®é¢˜

### Q: æ‰“åŒ…å¤±è´¥ï¼Œæç¤ºæ‰¾ä¸åˆ°å›¾æ ‡

**A:** ç¡®ä¿ `build/` ç›®å½•ä¸‹æœ‰å¯¹åº”å¹³å°çš„å›¾æ ‡æ–‡ä»¶ï¼š
```
build/
  â”œâ”€â”€ icon.ico    # Windows
  â”œâ”€â”€ icon.icns   # macOS
  â””â”€â”€ icon.png    # é€šç”¨
```

### Q: Windows Defender æŠ¥æ¯’

**A:** è¿™æ˜¯æœªç­¾ååº”ç”¨çš„å¸¸è§é—®é¢˜ã€‚è§£å†³æ–¹æ¡ˆï¼š
1. ç”³è¯·ä»£ç ç­¾åè¯ä¹¦
2. é…ç½® electron-builder ä½¿ç”¨è¯ä¹¦ç­¾å
3. æˆ–è€…åœ¨å‘å¸ƒè¯´æ˜ä¸­è¯´æ˜å¦‚ä½•æ·»åŠ ä¿¡ä»»

### Q: macOS æç¤ºåº”ç”¨å·²æŸå

**A:** macOS Gatekeeper é™åˆ¶ã€‚è§£å†³æ–¹æ¡ˆï¼š
1. è·å– Apple Developer ID
2. å¯¹åº”ç”¨è¿›è¡Œå…¬è¯ï¼ˆNotarizationï¼‰
3. æˆ–å‘ŠçŸ¥ç”¨æˆ·ä½¿ç”¨å³é”®æ‰“å¼€

### Q: æ‰“åŒ…ä½“ç§¯å¤ªå¤§

**A:** ä¼˜åŒ–å»ºè®®ï¼š
1. ä½¿ç”¨ `asar` æ‰“åŒ…ï¼ˆelectron-builder é»˜è®¤å¯ç”¨ï¼‰
2. æ’é™¤ä¸å¿…è¦çš„ä¾èµ–
3. ä½¿ç”¨ tree-shaking
4. å‹ç¼©èµ„æºæ–‡ä»¶

### Q: å¦‚ä½•å‡å°‘é¦–æ¬¡ä¸‹è½½å¤§å°ï¼Ÿ

**A:** è€ƒè™‘ä½¿ç”¨å¢é‡æ›´æ–°ï¼š
1. é…ç½® electron-updater
2. åªä¸‹è½½å·®å¼‚æ–‡ä»¶
3. ä½¿ç”¨æœåŠ¡å™¨æ‰˜ç®¡æ›´æ–°

---

## ğŸ“Š æ‰“åŒ…é…ç½®è¯´æ˜

### electron-builder.json é…ç½®é¡¹

```json
{
  "appId": "åº”ç”¨å”¯ä¸€æ ‡è¯†",
  "productName": "åº”ç”¨æ˜¾ç¤ºåç§°",
  "directories": {
    "output": "è¾“å‡ºç›®å½•",
    "buildResources": "æ„å»ºèµ„æºç›®å½•"
  },
  "files": ["åŒ…å«çš„æ–‡ä»¶"],
  "win": {
    "target": ["æ‰“åŒ…æ ¼å¼"],
    "icon": "Windowså›¾æ ‡"
  },
  "nsis": {
    "oneClick": false,  // å…è®¸è‡ªå®šä¹‰å®‰è£…è·¯å¾„
    "allowElevation": true,  // å…è®¸æå‡æƒé™
    "createDesktopShortcut": true,  // åˆ›å»ºæ¡Œé¢å¿«æ·æ–¹å¼
    "createStartMenuShortcut": true  // åˆ›å»ºå¼€å§‹èœå•å¿«æ·æ–¹å¼
  }
}
```

---

## ğŸ” ä»£ç ç­¾åï¼ˆå¯é€‰ï¼‰

### Windows ä»£ç ç­¾å

1. è·å–ä»£ç ç­¾åè¯ä¹¦ï¼ˆå¦‚ DigiCert, Sectigoï¼‰
2. é…ç½®ç¯å¢ƒå˜é‡ï¼š
   ```bash
   set WIN_CSC_LINK=path/to/certificate.pfx
   set WIN_CSC_KEY_PASSWORD=your_password
   ```

### macOS ä»£ç ç­¾å

1. åŠ å…¥ Apple Developer Program
2. åˆ›å»ºå¼€å‘è€…è¯ä¹¦
3. é…ç½®ç¯å¢ƒå˜é‡ï¼š
   ```bash
   export APPLE_ID=your@email.com
   export APPLE_ID_PASSWORD=app-specific-password
   ```

---

## ğŸ“š æ›´å¤šèµ„æº

- [electron-builder æ–‡æ¡£](https://www.electron.build/)
- [Electron å®˜æ–¹æ–‡æ¡£](https://www.electronjs.org/)
- [GitHub Actions æ–‡æ¡£](https://docs.github.com/actions)
- [è¯­ä¹‰åŒ–ç‰ˆæœ¬è§„èŒƒ](https://semver.org/lang/zh-CN/)

---

## ğŸ‰ å‘å¸ƒæˆåŠŸå

1. âœ… åœ¨ GitHub Releases æŸ¥çœ‹å‘å¸ƒçŠ¶æ€
2. âœ… æµ‹è¯•ä¸‹è½½å®‰è£…
3. âœ… é€šçŸ¥ç”¨æˆ·æ›´æ–°
4. âœ… ç›‘æ§é—®é¢˜åé¦ˆ
5. âœ… å‡†å¤‡ä¸‹ä¸€ä¸ªç‰ˆæœ¬

---

**ç¥å‘å¸ƒé¡ºåˆ©ï¼** ğŸš€

