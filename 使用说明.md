# Temu 素材管理系统 - 文件拖放功能使用说明

## 📖 功能概述

文件拖放功能允许您从系统文件管理器直接拖放图片文件到应用中，并批量导入到指定文件夹。

## ✨ 主要特性

- ✅ **拖放导入** - 支持从文件管理器直接拖放文件
- ✅ **批量处理** - 同时拖放多个文件
- ✅ **格式过滤** - 自动识别并过滤图片文件
- ✅ **智能重命名** - 自动处理重名文件（添加序号前缀）
- ✅ **进度显示** - 实时显示导入进度
- ✅ **结果反馈** - 详细的成功/失败统计

## 🎯 使用步骤

### 1. 启动应用

```bash
npm run dev
```

### 2. 进入文件导入页面

点击左侧菜单的 **"文件导入"** 按钮

### 3. 拖放文件

1. 从系统文件管理器选择图片文件
2. 拖动文件到应用的拖放区域（带虚线边框的区域）
3. 看到 **"松开鼠标放置文件"** 提示时释放鼠标
4. 文件会自动添加到待导入列表

### 4. 选择目标文件夹

点击 **"选择文件夹"** 按钮，选择要导入文件的目标位置

### 5. 开始导入

1. 检查待导入文件列表
2. 点击 **"导入 X 个文件"** 按钮
3. 等待导入完成
4. 查看导入结果统计

## 📋 支持的文件格式

- **JPG/JPEG** - .jpg, .jpeg
- **PNG** - .png
- **GIF** - .gif
- **WebP** - .webp
- **BMP** - .bmp
- **SVG** - .svg

## 🔧 功能说明

### 拖放区域

- **正常状态** - 灰色虚线边框
- **拖放悬停** - 蓝色虚线边框，浅蓝色背景
- **提示信息** - 显示支持的文件格式

### 文件列表

每个文件显示以下信息：
- 📄 **文件名** - 原始文件名
- 🏷️ **格式标签** - 文件扩展名
- 📊 **文件大小** - 自动格式化（B/KB/MB/GB）
- 📁 **完整路径** - 源文件路径（悬停查看）
- 🗑️ **删除按钮** - 从列表中移除文件

### 文件重命名规则

如果目标文件夹中已存在同名文件，系统会自动添加序号前缀：

```
原文件名: photo.jpg

目标文件夹已有 photo.jpg
↓
导入后: 1_photo.jpg

目标文件夹已有 photo.jpg 和 1_photo.jpg
↓
导入后: 2_photo.jpg
```

### 导入进度

- **进度条** - 实时显示导入进度（0-100%）
- **状态提示** - "正在导入文件..."
- **完成提示** - 绿色成功提示，显示成功数量

### 导入结果

弹窗显示详细结果：

**✅ 成功列表**
- 显示所有成功导入的文件名
- 绿色高亮显示

**❌ 失败列表**
- 显示失败的文件名
- 显示具体错误原因
- 红色高亮显示

## 💡 使用技巧

### 1. 批量拖放

可以同时选中多个文件拖放，或分多次拖放累加到列表中。

### 2. 预览检查

导入前可以在列表中检查所有文件，移除不需要的文件。

### 3. 清空列表

点击 **"清空列表"** 按钮可以一次性清空所有待导入文件。

### 4. 快速重试

导入失败的文件会显示详细错误信息，可以根据提示解决问题后重新拖放。

## ⚠️ 注意事项

### 文件安全

- 导入操作是 **复制** 文件，不会删除或移动源文件
- 原始文件保持不变

### 权限要求

- 需要对目标文件夹有 **写入权限**
- 如果没有权限，导入会失败并显示错误

### 文件大小

- 理论上支持任意大小的文件
- 大文件导入时间会相对较长

### 磁盘空间

- 确保目标磁盘有足够空间
- 空间不足会导致导入失败

## 🐛 常见问题

### Q: 拖放后没有反应？

**A:** 检查以下几点：
1. 确保拖放的是图片文件（支持的格式）
2. 查看控制台是否有错误信息
3. 重启应用重试

### Q: 为什么有些文件导入失败？

**A:** 常见原因：
1. 文件被其他程序占用
2. 文件已损坏
3. 磁盘空间不足
4. 没有目标文件夹写入权限

### Q: 能否拖放文件夹？

**A:** 目前不支持拖放文件夹，只支持直接拖放文件。

### Q: 导入的文件在哪里？

**A:** 文件会被复制到您选择的目标文件夹中，可以打开文件管理器查看。

## 📞 技术支持

如果遇到其他问题，请：
1. 查看开发者工具控制台的错误信息
2. 检查应用日志
3. 联系技术支持团队

## 🎨 界面预览

### 主界面布局

```
┌─────────────────────────────────────────────┐
│  侧边栏        │  文件导入                    │
│  - 素材库      ├──────────────────────────┤
│  - 文件导入 ✓  │  拖放区域 (虚线框)          │
│  - 文件管理    │  "拖放图片文件到这里"        │
│  - 设置        ├──────────────────────────┤
│                │  目标文件夹                 │
│                │  [选择文件夹]               │
│                ├──────────────────────────┤
│                │  待导入文件 (3)             │
│                │  - photo1.jpg   [删除]    │
│                │  - photo2.png   [删除]    │
│                │  - image.gif    [删除]    │
│                ├──────────────────────────┤
│                │  [导入 3 个文件]            │
└─────────────────────────────────────────────┘
```

## 🚀 未来计划

- [ ] 支持拖放文件夹
- [ ] 图片预览功能
- [ ] 自定义重命名规则
- [ ] 导入历史记录
- [ ] 压缩包解压导入
- [ ] 云端存储集成

---

**版本：** 1.0.0  
**更新日期：** 2024-12-17  
**开发团队：** Temu 素材管理团队

